# ЭИОС. Посещаемость REST API v1

## Описание методов API
Ниже приводятся все методы для работы с данными системы ЭИОС. Посещаемость.

### **POST** get_group
Возвращает список всех групп данного старосты.
#### Тело запроса
Тело запроса представляет собой объект со следующими полями:

Поле | Описание
--- | ---
`login` | Логин пользователя.
`password` | Пароль пользователя.
`type` | Тип запроса. В данном случае `get_group`

#### Результат

Ответ представляет собой объект со следующими полями:

Поле | Описание
--- | ---
`fullname` | ФИО старосты группы.
`data` | Массив объектов, описывающих группу.

Объект, описывающий группу, имеет следующие поля:

Поле | Описание
--- | ---
`id_group` | Идентификатор группы.
`name` | Название группы.

#### Пример результата

```json
{
    "fullname": "Иванов Иван Иванович",
    "data": [
        {
            "id_group": "1156",
            "name": "17ВП1"
        }
    ]
}
```

### **POST** get_students
Возвращает список всех студентов данной группы.
#### Тело запроса
Тело запроса представляет собой объект со следующими полями:

Поле | Описание
--- | ---
`login` | Логин пользователя.
`password` | Пароль пользователя.
`type` | Тип запроса. В данном случае `get_students`
`id_group` | Идентификатор группы.

#### Результат

Ответ представляет собой массив объектов со следующими полями:

Поле | Описание
--- | ---
`id_student` | Идентификатор группы.
`fullname` | ФИО студента.

#### Пример результата

```json
[
    {
        "id_student": "377108598",
        "fullname": "Горяев Анатолий Павлович"
        
    },
    {
        "id_student": "377572536",
        "fullname": "Пестряков Георгий Албурович"
    },
    {
        "id_student": "517648824",
        "fullname": "Галицков Артемий Антонович"
    }
]
```

### **POST** get_info
Возвращает расписание группы на определенный день.
#### Тело запроса
Тело запроса представляет собой объект со следующими полями:

Поле | Описание
--- | ---
`login` | Логин пользователя.
`password` | Пароль пользователя.
`type` | Тип запроса. В данном случае `get_info`
`id_group` | Идентификатор группы.
`date` | Дата, на которую нужно получить рассписание.

#### Результат

Ответ представляет собой массив объектов со следующими полями:

Поле | Описание
--- | ---
`id_occup` | Идентификатор занятия (от 1 до 8 включительно).
`id_lesson` | Идентификатор предмета.
`lesson_name` | Название предмета.
`aud` | Название аудитории.

#### Пример результата

```json
[
    {
        "id_occup": "1",
        "id_lesson": "17378530",
        "lesson_name": "Теория вероятностей и математическая статистика",
        "aud": "9-201"
    },
    {
        "id_occup": "2",
        "id_lesson": "17378531",
        "lesson_name": "Экономика и организация производства",
        "aud": "9-201"
    }
]
```

### **POST** get_attend_info
Возвращает список отсутствующих на паре за определенный день.
#### Тело запроса
Тело запроса представляет собой объект со следующими полями:

Поле | Описание
--- | ---
`login` | Логин пользователя.
`password` | Пароль пользователя.
`type` | Тип запроса. В данном случае `get_attend_info`
`id_group` | Идентификатор группы.
`date` | Дата, на которую нужно получить рассписание.
`id_occup` | Идентификатор занятия (от 1 до 8 включительно).

#### Результат

Ответ представляет собой массив объектов со следующими полями:

Поле | Описание
--- | ---
`id_student` | Идентификатор студента.
`fullname` | ФИО студента.

#### Пример результата

```json
[
    {
        "id_student": "377572536",
        "fullname": "Пестряков Георгий Албурович"
    }
]
```

### **POST** set_attend
Вносит данные о посещаемости.
#### Тело запроса
Тело запроса представляет собой объект со следующими полями:

Поле | Описание
--- | ---
`login` | Логин пользователя.
`password` | Пароль пользователя.
`type` | Тип запроса. В данном случае `set_attend`
`id_group` | Идентификатор группы.
`date` | Дата, на которую нужно получить рассписание.
`id_occup` | Идентификатор занятия (от 1 до 8 включительно).
`data` | Массив объектов, описывающих студента (состоит из одного поля `id_student`)

#### Результат

Ответ представляет код состояния http-запроса. **200** - все прошло успешно. **404** - произошла ошибка

#### Пример запроса

```json
{
    "login": "s552718011",
    "password": "her69NMY",
    "type": "set_attend",
    "id_group": "1156",
    "id_occup": "4",
    "date": "2018-09-26",
    "data": [
        {
            "id_student": "377572536"
        }
    ]
}
```

### **POST** get_mark
Возвращает список меток группы за определенный день.
#### Тело запроса
Тело запроса представляет собой объект со следующими полями:

Поле | Описание
--- | ---
`login` | Логин пользователя.
`password` | Пароль пользователя.
`type` | Тип запроса. В данном случае `get_mark`
`id_group` | Идентификатор группы.
`date` | Дата, на которую нужно получить рассписание.

#### Результат

Ответ представляет собой объект со следующими полями:

Поле | Описание
--- | ---
`id_occup_now` | Идентификатор занятия (от 1 до 8 включительно).
`data` | Массив объектов, описывающих пару.

Объект, описывающий пару, имеет следующие поля:

Поле | Описание
--- | ---
`id_occup_now` | Идентификатор текущего занятия занятия (от 1 до 8 включительно).
`blocked` | Флаг, обозначающий блокировку занятия
`checked` | Флаг, обозначающий, отмечено ли занятие.

#### Пример результата
```json
{
    "id_occup_now": "5",
    "data": [
        {
            "id_occup": "1",
            "blocked": "true",
            "checked": "false"
        }
    ]
}
```
